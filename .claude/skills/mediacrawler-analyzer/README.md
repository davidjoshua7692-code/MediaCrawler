# MediaCrawler æ™ºèƒ½æ•°æ®åˆ†æå™¨ - å¿«é€Ÿå¼€å§‹

## ğŸš€ 5ç§’å¿«é€Ÿä½¿ç”¨

```bash
# 1. è¿è¡Œçˆ¬è™«ï¼ˆæ•°æ®ä¼šä¿å­˜åœ¨ data/xhs/csv/ï¼‰
uv run python main.py

# 2. åˆ†ææ•°æ®ï¼ˆè‡ªåŠ¨è¯†åˆ«å¹³å°ï¼‰
uv run python .claude/skills/mediacrawler-analyzer/analyze.py data/xhs/csv/search_contents_2026-01-19.csv data/xhs/csv/search_comments_2026-01-19.csv

# 3. æŸ¥çœ‹ç»“æœ
# - ç»ˆç«¯æ˜¾ç¤ºè¯¦ç»†åˆ†ææŠ¥å‘Š
# - å›¾è¡¨ä¿å­˜åœ¨: d:/MediaCrawler-main/{platform}_analysis.png
```

---

## ğŸ“ ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹1: åˆ†æå°çº¢ä¹¦å’–å•¡å…æ¨è

```python
from .claude.skills.mediacrawler_analyzer.analyze import analyze_mediacrawler_data

# è‡ªå®šä¹‰å’–å•¡å…ç›¸å…³å…³é”®è¯
cafe_keywords = {
    'features': {
        'å®‰é™': ['å®‰é™', 'æ¸…å‡€', 'ä¸åµ'],
        'æ’åº§': ['æ’åº§', 'ç”µæº', 'å……ç”µ'],
        'ç½‘ç»œ': ['wifi', 'wi-fi', 'ç½‘é€Ÿ'],
        'åœè½¦ä½': ['åœè½¦', 'parking'],
        'æœ‰å•æ‰€': ['å•æ‰€', 'å«ç”Ÿé—´', 'æ´—æ‰‹é—´']
    },
    'sentiment': {
        'positive': ['æ¨è', 'å¥½', 'ä¸é”™', 'èˆ’æœ'],
        'negative': ['åµ', 'è´µ', 'å·®', 'ä¸å¥½']
    }
}

results = analyze_mediacrawler_data(
    contents_file='data/xhs/csv/search_contents_2026-01-19.csv',
    comments_file='data/xhs/csv/search_comments_2026-01-19.csv',
    custom_keywords=cafe_keywords,
    custom_title='â˜• ä¸Šæµ·å’–å•¡å…æ¨èåˆ†æ'
)

print(f"å¹³å°: {results['platform']}")
print(f"å¸–å­æ•°: {results['contents_count']}")
print(f"è¯„è®ºæ•°: {results['comments_count']}")
```

### ç¤ºä¾‹2: åˆ†ææŠ–éŸ³ç¾é£Ÿè§†é¢‘

```python
food_keywords = {
    'features': {
        'å£å‘³': ['å¥½åƒ', 'ç¾å‘³', 'æ­£å®—'],
        'ç¯å¢ƒ': ['è£…ä¿®', 'æ°›å›´', 'ç¯å¢ƒ'],
        'æœåŠ¡': ['æœåŠ¡', 'æœåŠ¡å‘˜', 'æ€åº¦'],
        'ä»·æ ¼': ['ä¾¿å®œ', 'å®æƒ ', 'æ€§ä»·æ¯”']
    },
    'sentiment': {
        'positive': ['æ¨è', 'èµ', 'çˆ±äº†'],
        'negative': ['å¤±æœ›', 'å·®', 'ä¸å€¼']
    }
}

results = analyze_mediacrawler_data(
    contents_file='data/dy/csv/search_contents_2026-01-19.csv',
    comments_file='data/dy/csv/search_comments_2026-01-19.csv',
    custom_keywords=food_keywords,
    custom_title='ğŸœ ç¾é£Ÿè§†é¢‘åˆ†æ'
)
```

---

## ğŸ¯ å…³é”®ç‰¹æ€§

### âœ… è‡ªåŠ¨å¹³å°è¯†åˆ«
- é€šè¿‡CSVåˆ—åè‡ªåŠ¨è¯†åˆ«ï¼šå°çº¢ä¹¦ã€æŠ–éŸ³ã€Bç«™ã€å¾®åšç­‰
- æ— éœ€æ‰‹åŠ¨æŒ‡å®šå¹³å°

### âœ… å‚æ•°åŒ–å…³é”®è¯
- é€šè¿‡ `custom_keywords` å‚æ•°ä¼ å…¥
- é€‚é…ä»»ä½•æœç´¢ä¸»é¢˜

### âœ… æ™ºèƒ½æ–‡æœ¬åˆ†æ
- åœ°ç†ä½ç½®æå–
- ç‰¹å¾å…³é”®è¯è¯†åˆ«
- æƒ…æ„Ÿå€¾å‘åˆ†æ

### âœ… ä¸°å¯Œå¯è§†åŒ–
- 6åˆ1ç»¼åˆå›¾è¡¨
- è‡ªåŠ¨ä¿å­˜PNGæ ¼å¼

---

## ğŸ“¦ æ•°æ®è¦æ±‚

### å¿…éœ€æ–‡ä»¶
- âœ… `search_contents_*.csv` - å¸–å­/è§†é¢‘å†…å®¹
- âš ï¸ `search_comments_*.csv` - è¯„è®ºæ•°æ®ï¼ˆå¯é€‰ï¼Œä½†æ¨èï¼‰

### CSVæ ¼å¼
åˆ†æå™¨ä¼šè‡ªåŠ¨è¯»å–æ ‡å‡†MediaCrawlerè¾“å‡ºçš„CSVæ ¼å¼ï¼ŒåŒ…å«ï¼š
- å†…å®¹è¡¨ï¼š`note_id`/`aweme_id`, `title`, `desc`, `liked_count`, ç­‰
- è¯„è®ºè¡¨ï¼š`comment_id`, `content`, `like_count`, ç­‰

---

## ğŸ”§ é…ç½®ç¤ºä¾‹

### å°çº¢ä¹¦é…ç½®
```python
# config/base_config.py
PLATFORM = "xhs"
KEYWORDS = "ä¸Šæµ·å’–å•¡å…,ä¸Šæµ·è‡ªä¹ å®¤"
CRAWLER_TYPE = "search"
CRAWLER_MAX_NOTES_COUNT = 30
SAVE_DATA_OPTION = "csv"
```

### æŠ–éŸ³é…ç½®
```python
PLATFORM = "dy"
KEYWORDS = "ç¾é£Ÿæ•™ç¨‹,åšé¥­æŠ€å·§"
CRAWLER_TYPE = "search"
CRAWLER_MAX_NOTES_COUNT = 50
SAVE_DATA_OPTION = "csv"
```

---

## ğŸ“Š è¾“å‡ºå†…å®¹

### ç»ˆç«¯è¾“å‡º
```
================================================================================
ğŸ“Š å°çº¢ä¹¦æ•°æ®åˆ†ææŠ¥å‘Š
================================================================================

âœ… å¹³å°è¯†åˆ«: å°çº¢ä¹¦ (xiaohongshu)
âœ… æ•°æ®åŠ è½½æˆåŠŸ!
   å¸–å­æ•°æ®: 60 æ¡
   è¯„è®ºæ•°æ®: 524 æ¡

================================================================================
ğŸ“ˆ ä¸€ã€åŸºç¡€æ•°æ®ç»Ÿè®¡
================================================================================

äº’åŠ¨æ•°æ®ç»Ÿè®¡:
  å¹³å‡Liked Count: 2091.0
  æœ€é«˜Liked Count: 7216
  ...

================================================================================
ğŸ“ äºŒã€åœ°ç†ä½ç½®åˆ†æ
================================================================================
...
```

### å›¾è¡¨æ–‡ä»¶
- `{platform}_analysis.png` - 6åˆ1ç»¼åˆå›¾è¡¨

---

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. å…³é”®è¯è®¾è®¡
```python
# âœ… å¥½çš„å…³é”®è¯é…ç½®
features = {
    'å®‰é™': ['å®‰é™', 'æ¸…å‡€', 'ä¸åµ'],  # è¿‘ä¹‰è¯
    'æ’åº§': ['æ’åº§', 'ç”µæº', 'å……ç”µ']   # ç›¸å…³è¯
}

# âŒ ä¸å¥½çš„é…ç½®
features = {
    'å¥½': ['å¥½', 'ä¸é”™', 'æ¨è'],  # å¤ªå®½æ³›
    'å·®': ['å·®', 'ä¸å¥½', 'å¤±æœ›']   # å¤ªè´Ÿé¢
}
```

### 2. æ•°æ®é‡å»ºè®®
- **åˆæ­¥æ¢ç´¢**: 15-30 æ¡
- **ç«å“åˆ†æ**: 30-50 æ¡
- **æ·±åº¦ç ”ç©¶**: 50-100 æ¡

### 3. ç»“åˆçˆ¬è™«é…ç½®
```python
# æ­¥éª¤1: ä¿®æ”¹çˆ¬è™«é…ç½®
KEYWORDS = "å’–å•¡å…,è‡ªä¹ å®¤"  # å¤šä¸ªå…³é”®è¯

# æ­¥éª¤2: è¿è¡Œçˆ¬è™«
uv run python main.py

# æ­¥éª¤3: åˆ†ææ•°æ®ï¼ˆä¼šè‡ªåŠ¨åˆå¹¶æ‰€æœ‰å…³é”®è¯çš„ç»“æœï¼‰
uv run python .claude/skills/mediacrawler-analyzer/analyze.py data/xhs/csv/...
```

---

## ğŸ†š ä¸åŸç‰ˆcsv-data-summarizerçš„åŒºåˆ«

| ç‰¹æ€§ | csv-data-summarizer | mediacrawler-analyzer |
|-----|---------------------|----------------------|
| é€‚ç”¨åœºæ™¯ | ä¼ ç»Ÿä¸šåŠ¡æ•°æ® | ç¤¾äº¤åª’ä½“æ•°æ® |
| å¹³å°è¯†åˆ« | âŒ æ—  | âœ… è‡ªåŠ¨è¯†åˆ« |
| ä¸­æ–‡æ”¯æŒ | âš ï¸ æœ‰é™ | âœ… å®Œæ•´æ”¯æŒ |
| å…³é”®è¯åˆ†æ | âŒ æ—  | âœ… å‚æ•°åŒ–é…ç½® |
| æƒ…æ„Ÿåˆ†æ | âŒ æ—  | âœ… æ”¯æŒ |
| åœ°ç†æå– | âŒ æ—  | âœ… æ”¯æŒ |

---

## ğŸ› æ•…éšœæ’æŸ¥

### é—®é¢˜1: ä¸­æ–‡ä¹±ç 
```bash
# ç¡®ä¿CSVæ˜¯UTF-8ç¼–ç 
file data/xhs/csv/search_contents_*.csv
```

### é—®é¢˜2: æ— æ³•è¯†åˆ«å¹³å°
```python
# æ£€æŸ¥CSVåˆ—å
import pandas as pd
df = pd.read_csv('data/xhs/csv/search_contents_*.csv')
print(df.columns)
```

### é—®é¢˜3: å›¾è¡¨ä¸æ˜¾ç¤ºä¸­æ–‡
```python
# Windowsç³»ç»Ÿ
plt.rcParams['font.sans-serif'] = ['SimHei']

# macOSç³»ç»Ÿ
plt.rcParams['font.sans-serif'] = ['Arial Unicode MS']
```

---

## ğŸ“š æ›´å¤šèµ„æº

- å®Œæ•´æ–‡æ¡£: `skill.md`
- MediaCrawleræ–‡æ¡£: `docs/`
- ç¤ºä¾‹é…ç½®: `config/base_config.py`
